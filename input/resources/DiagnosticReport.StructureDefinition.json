{
  "resourceType": "StructureDefinition",
  "id": "DiagnosticReport",
  "url": "http://br-ipes.com/fhir/StructureDefinition/DiagnosticReport",
  "version": "1.0",
  "name": "DiagnosticReport",
  "title": "Relat贸rio de Diagn贸stico",
  "status": "draft",
  "date": "2023-03-26T15:21:02+11:00",
  "description": "Relat贸rio de diagn贸stico",
  "fhirVersion": "4.0.1",
  "kind": "resource",
  "abstract": false,
  "type": "DiagnosticReport",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/DiagnosticReport",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "DiagnosticReport.identifier",
        "path": "DiagnosticReport.identifier",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Identifier"
          }
        ]
      },
      {
        "id": "DiagnosticReport.basedOn",
        "path": "DiagnosticReport.basedOn",
        "short": "What was requested",
        "definition": "Details concerning a service requested.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/CarePlan",
              "http://hl7.org/fhir/StructureDefinition/ImmunizationRecommendation",
              "http://hl7.org/fhir/StructureDefinition/MedicationRequest",
              "http://hl7.org/fhir/StructureDefinition/NutritionOrder",
              "http://hl7.org/fhir/StructureDefinition/ServiceRequest"
            ]
          }
        ]
      },
      {
        "id": "DiagnosticReport.status",
        "path": "DiagnosticReport.status",
        "short": "registered | partial | preliminary | modified | final | amended | corrected | appended | cancelled | entered-in-error | unknown",
        "definition": "The status of the diagnostic report."
      },
      {
        "id": "DiagnosticReport.subject",
        "path": "DiagnosticReport.subject",
        "short": "The subject of the report - usually, but not always, the patient",
        "definition": "The subject of the report. Usually, but not always, this is a patient. However, diagnostic services also perform analyses on specimens collected from a variety of other sources.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/Patient",
              "http://hl7.org/fhir/StructureDefinition/Group",
              "http://hl7.org/fhir/StructureDefinition/Device",
              "http://hl7.org/fhir/StructureDefinition/Location",
              "http://hl7.org/fhir/StructureDefinition/Organization",
              "http://hl7.org/fhir/StructureDefinition/Practitioner",
              "http://hl7.org/fhir/StructureDefinition/Medication",
              "http://hl7.org/fhir/StructureDefinition/Substance",
              "http://hl7.org/fhir/StructureDefinition/BiologicallyDerivedProduct"
            ]
          }
        ]
      },
      {
        "id": "DiagnosticReport.issued",
        "path": "DiagnosticReport.issued",
        "min": 0,
        "max": "1"
      },
      {
        "id": "DiagnosticReport.performer",
        "path": "DiagnosticReport.performer",
        "min": 0,
        "max": "*"
      },
      {
        "id": "DiagnosticReport.resultsInterpreter",
        "path": "DiagnosticReport.resultsInterpreter",
        "short": "Primary result interpreter",
        "definition": "The practitioner or organization that is responsible for the report's conclusions and interpretations.",
        "comment": "Might not be the same entity that takes responsibility for the clinical report.",
        "requirements": "Need to know whom to contact if there are queries about the results. Also may need to track the source of reports for secondary data analysis.",
        "alias": [
          "Analyzed by",
          "Reported by"
        ],
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/Practitioner",
              "http://hl7.org/fhir/StructureDefinition/PractitionerRole",
              "http://hl7.org/fhir/StructureDefinition/Organization",
              "http://hl7.org/fhir/StructureDefinition/CareTeam"
            ]
          }
        ],
        "mustSupport": false,
        "isModifier": false,
        "isSummary": true,
        "mapping": [
          {
            "identity": "workflow",
            "map": "Event.performer.actor"
          },
          {
            "identity": "w5",
            "map": "FiveWs.actor"
          },
          {
            "identity": "v2",
            "map": "OBR-32, PRT-8 (where this PRT-4-Participation = \"PI\")"
          },
          {
            "identity": "rim",
            "map": ".participation[typeCode=PRF]"
          }
        ]
      },
      {
        "id": "DiagnosticReport.specimen",
        "path": "DiagnosticReport.specimen",
        "short": "Specimens this report is based on",
        "definition": "Details about the specimens on which this diagnostic report is based.",
        "comment": "If the specimen is sufficiently specified with a code in the test result name, then this additional data may be redundant. If there are multiple specimens, these may be represented per observation or group.",
        "requirements": "Need to be able to report information about the collected specimens on which the report is based.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/Specimen"
            ]
          }
        ],
        "mustSupport": false,
        "isModifier": false,
        "isSummary": false,
        "mapping": [
          {
            "identity": "v2",
            "map": "SPM"
          },
          {
            "identity": "rim",
            "map": "participation[typeCode=SBJ]"
          }
        ]
      },
      {
        "id": "DiagnosticReport.result",
        "path": "DiagnosticReport.result",
        "short": "Observations",
        "definition": "[Observations](observation.html)  that are part of this diagnostic report.",
        "comment": "Observations can contain observations.",
        "requirements": "Need to support individual results, or  groups of results, where the result grouping is arbitrary, but meaningful.",
        "alias": [
          "Data",
          "Atomic Value",
          "Result",
          "Atomic result",
          "Data",
          "Test",
          "Analyte",
          "Battery",
          "Organizer"
        ],
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/Observation"
            ]
          }
        ],
        "condition": [
          "dgr-1"
        ],
        "mustSupport": false,
        "isModifier": false,
        "isSummary": false,
        "mapping": [
          {
            "identity": "v2",
            "map": "OBXs"
          },
          {
            "identity": "rim",
            "map": "outboundRelationship[typeCode=COMP].target"
          }
        ]
      },
      {
        "id": "DiagnosticReport.note",
        "path": "DiagnosticReport.note",
        "short": "Comments about the diagnostic report",
        "definition": "Comments about the diagnostic report.",
        "comment": "May include general statements about the diagnostic report, or statements about significant, unexpected or unreliable results values contained within the diagnostic report, or information about its source when relevant to its interpretation.",
        "requirements": "Need to be able to provide free text additional information.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Annotation"
          }
        ],
        "mustSupport": false,
        "isModifier": false,
        "isSummary": false,
        "mapping": [
          {
            "identity": "rim",
            "map": "unknown"
          }
        ]
      },
      {
        "id": "DiagnosticReport.study",
        "path": "DiagnosticReport.study",
        "short": "Reference to full details of an analysis associated with the diagnostic report",
        "definition": "One or more links to full details of any study performed during the diagnostic investigation. An ImagingStudy might comprise a set of radiologic images obtained via a procedure that are analyzed as a group. Typically, this is imaging performed by DICOM enabled modalities, but this is not required. A fully enabled PACS viewer can use this information to provide views of the source images. A GenomicStudy might comprise one or more analyses, each serving a specific purpose. These analyses may vary in method (e.g., karyotyping, CNV, or SNV detection), performer, software, devices used, or regions targeted.",
        "comment": "For laboratory-type studies like GenomeStudy, type resources will be used for tracking additional metadata and workflow aspects of complex studies. ImagingStudy and the media element are somewhat overlapping - typically, the list of image references in the media element will also be found in one of the imaging study resources. However, each caters to different types of displays for different types of purposes. Neither, either, or both may be provided.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/ImagingStudy"
            ]
          }
        ],
        "mustSupport": false,
        "isModifier": false,
        "isSummary": false
      },
      {
        "id": "DiagnosticReport.supportingInfo",
        "path": "DiagnosticReport.supportingInfo",
        "short": "Additional information supporting the diagnostic report",
        "definition": "This backbone element contains supporting information that was used in the creation of the report not included in the results already included in the report.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "BackboneElement"
          }
        ],
        "mustSupport": false,
        "isModifier": false,
        "isSummary": false
      },
      {
        "id": "DiagnosticReport.supportingInfo.type",
        "path": "DiagnosticReport.supportingInfo.type",
        "short": "Supporting information role code",
        "definition": "The code value for the role of the supporting information in the diagnostic report.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "mustSupport": false,
        "isModifier": false,
        "isSummary": false,
        "binding": {
          "extension": [
            {
              "url": "http://hl7.org/fhir/tools/StructureDefinition/binding-definition",
              "valueString": "Supporting information role code"
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName",
              "valueString": "DiagnosticReportSupportingInfoType"
            }
          ],
          "strength": "example",
          "description": "The code value for the role of the supporting information in the diagnostic report.",
          "valueSet": "http://terminology.hl7.org/ValueSet/v2-0936"
        }
      },
      {
        "id": "DiagnosticReport.supportingInfo.reference",
        "path": "DiagnosticReport.supportingInfo.reference",
        "short": "Supporting information reference",
        "definition": "The reference for the supporting information in the diagnostic report.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/Procedure",
              "http://hl7.org/fhir/StructureDefinition/Observation",
              "http://hl7.org/fhir/StructureDefinition/DiagnosticReport"
            ]
          }
        ],
        "mustSupport": false,
        "isModifier": false,
        "isSummary": false
      },
      {
        "id": "DiagnosticReport.composition",
        "path": "DiagnosticReport.composition",
        "short": "Reference to a Composition resource for the DiagnosticReport structure",
        "definition": "Reference to a Composition resource instance that provides structure for organizing the contents of the DiagnosticReport.",
        "comment": "The Composition provides structure to the content of the DiagnosticReport (and only contains contents referenced in the DiagnosticReport) - e.g., to order the sections of an anatomic pathology structured report.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/Composition"
            ]
          }
        ],
        "condition": [
          "dgr-1"
        ],
        "mustSupport": false,
        "isModifier": false,
        "isSummary": false,
        "mapping": [
          {
            "identity": "rim",
            "map": ".value.reference"
          }
        ]
      },
      {
        "id": "DiagnosticReport.conclusionCode",
        "path": "DiagnosticReport.conclusionCode",
        "short": "Codes for the clinical conclusion of test results",
        "definition": "One or more codes that represent the summary conclusion (interpretation/impression) of the diagnostic report.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "mustSupport": false,
        "isModifier": false,
        "isSummary": false,
        "binding": {
          "extension": [
            {
              "url": "http://hl7.org/fhir/tools/StructureDefinition/binding-definition",
              "valueString": "Diagnosis codes provided as adjuncts to the report."
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName",
              "valueString": "AdjunctDiagnosis"
            }
          ],
          "strength": "example",
          "description": "SNOMED CT Clinical Findings",
          "valueSet": "http://hl7.org/fhir/ValueSet/clinical-findings"
        },
        "mapping": [
          {
            "identity": "v2",
            "map": "OBX"
          },
          {
            "identity": "rim",
            "map": "inboundRelationship[typeCode=SPRT].source[classCode=OBS, moodCode=EVN, code=LOINC:54531-9].value (type=CD)"
          }
        ]
      },
      {
        "id": "DiagnosticReport.presentedForm",
        "path": "DiagnosticReport.presentedForm",
        "short": "Entire report as issued",
        "definition": "Rich text representation of the entire result as issued by the diagnostic service. Multiple formats are allowed but they SHALL be semantically equivalent.",
        "comment": "\"application/pdf\" is recommended as the most reliable and interoperable in this context.",
        "requirements": "Gives laboratory the ability to provide its own fully formatted report for clinical fidelity.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Attachment"
          }
        ],
        "mustSupport": false,
        "isModifier": false,
        "isSummary": false,
        "mapping": [
          {
            "identity": "v2",
            "map": "OBX"
          },
          {
            "identity": "rim",
            "map": "text (type=ED)"
          }
        ]
      }
    ]
  }
}